(function(){"use strict";var e={759:function(e,t,o){var a=o(9242),s=o(3396);const n={class:"container"};function i(e,t,o,a,i,r){const c=(0,s.up)("Header"),m=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(c),(0,s.Wm)(m)])}var r=o(7139);const c={class:"header"},m={class:"header__nav nav-header"},p={class:"nav-header__list"},l=["value"],h=(0,s._)("button",{class:"search-header__button"},null,-1),d={key:0,class:"search__list"};function u(e,t,o,n,i,u){return(0,s.wg)(),(0,s.iD)("header",c,[(0,s._)("nav",m,[(0,s._)("ul",p,[(0,s._)("li",null,[(0,s._)("button",{class:"nav-header__link",onClick:t[0]||(t[0]=t=>e.$router.push({name:"home",query:{page:e.page,search:e.searchQuery}}))},"Home")])])]),(0,s._)("form",{class:"header__search search-header",onSubmit:t[2]||(t[2]=(0,a.iM)(((...e)=>u.handleSubmitForm&&u.handleSubmitForm(...e)),["prevent"]))},[(0,s._)("input",{ref:"input",class:"search-header__input",type:"text",placeholder:"Search...",onInput:t[1]||(t[1]=t=>e.setSearchQuery(t.target.value)),value:e.searchQuery,minlength:"2"},null,40,l),h,e.isShowSearchList?((0,s.wg)(),(0,s.iD)("ul",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.getSeachList,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"search__item",key:e},(0,r.zw)(e),1)))),128))])):(0,s.kq)("",!0)],32)])}var _=o(65),k={name:"main-header",methods:{...(0,_.OI)({clearPokemonsList:"pokemons/clearPokemonsList",setIsLoadingList:"loader/setIsLoadingList",setTotalPokemons:"pagination/setTotalPokemons",setPage:"pagination/setPage",setSearchQuery:"search/setSearchQuery",setIsShowSearchList:"search/setIsShowSearchList"}),...(0,_.nv)({loadPokemonNameList:"search/loadPokemonNameList",loadPokemon:"pokemons/loadPokemon"}),setQueryPath(){const e=this.searchQuery?{page:this.page,search:this.searchQuery}:{page:this.page};this.$router.push({name:"home",query:e})},handleSubmitForm(){this.setPage(1),this.setQueryPath(),this.$refs.input.blur(),this.setIsShowSearchList(!1),this.setIsLoadingList(!0),this.clearPokemonsList(),this.setTotalPokemons(this.getPokemonNameFilterList.length),this.getPokemonNameFilterList.slice(0,this.limit).forEach((e=>{this.loadPokemon({name:e,type:"multi"})}))}},computed:{...(0,_.rn)({pokemonsNameList:e=>e.search.pokemonsNameList,limit:e=>e.pagination.limit,page:e=>e.pagination.page,searchQuery:e=>e.search.searchQuery,isShowSearchList:e=>e.search.isShowSearchList}),...(0,_.Se)({getPokemonNameFilterList:"search/getPokemonNameFilterList",getSeachList:"search/getSeachList"})},watch:{searchQuery(){const e=!!this.searchQuery,t=!!this.pokemonsNameList,o=document.activeElement===this.$refs.input;this.loadPokemonNameList(),e&&t&&o?this.setIsShowSearchList(!0):this.setIsShowSearchList(!1)}}},g=o(89);const P=(0,g.Z)(k,[["render",u]]);var f=P,v={name:"App",components:{Header:f}};const L=(0,g.Z)(v,[["render",i]]);var w=L,y=o(678);const b={key:0,class:"main"},S=(0,s._)("h1",{class:"title"},"Pokemons",-1),N={class:"main__list"},I={key:1,class:"not-found"};function Q(e,t,o,a,n,i){const r=(0,s.up)("card"),c=(0,s.up)("pagination"),m=(0,s.up)("preloader");return e.isLoading?e.isNotFound?((0,s.wg)(),(0,s.iD)("h3",I,"Nothing found!")):((0,s.wg)(),(0,s.j4)(m,{key:2})):((0,s.wg)(),(0,s.iD)("main",b,[S,(0,s._)("ul",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pokemonsList,(e=>((0,s.wg)(),(0,s.j4)(r,{key:e.id,pokemon:e},null,8,["pokemon"])))),128))]),(0,s.Wm)(c)]))}const x={class:"card__wrapper"},C={class:"card__name"},F={class:"card__content"},z={class:"card__description"},D=(0,s._)("p",{class:"card__description-title"},"Type:",-1),O={class:"card__description-text"},j={class:"card__params params-card"},$={class:"params-card__item params-card__item_hp"},T={class:"params-card__item params-card__item_attack"},B={class:"params-card__item params-card__item_defense"},M={class:"params-card__item params-card__item_speed"};function E(e,t,o,a,n,i){return(0,s.wg)(),(0,s.iD)("li",{class:"main__item card",onClick:t[0]||(t[0]=t=>e.$router.push(`/pokemon/${o.pokemon.name}`))},[(0,s._)("div",x,[(0,s._)("div",{class:"card__image",style:(0,r.j5)({backgroundImage:`url(${o.pokemon.image})`})},[(0,s._)("p",C,(0,r.zw)(i.getName),1)],4),(0,s._)("div",F,[(0,s._)("div",z,[D,(0,s._)("p",O,(0,r.zw)(o.pokemon.types),1)]),(0,s._)("ul",j,[(0,s._)("li",$,(0,r.zw)(o.pokemon.stats.hp),1),(0,s._)("li",T,(0,r.zw)(o.pokemon.stats.attack),1),(0,s._)("li",B,(0,r.zw)(o.pokemon.stats.defense),1),(0,s._)("li",M,(0,r.zw)(o.pokemon.stats.speed),1)])])])])}o(6699);const H=e=>{let t=e[0].toUpperCase()+e.slice(1);return t.includes("-")&&(t=t.split("-").join(" ")),t},Z=e=>e.map((e=>e.type.name)).join(" / "),q=e=>{const t={1:"",2:"",3:""};return e.forEach((e=>t[e.slot]=H(e.ability.name))),Object.values(t)},A=e=>{const t={};return e.forEach((e=>t[e.stat.name]=e["base_stat"])),t},W=e=>{const t=e.other.home["front_default"],o=e.other["official-artwork"]["front_default"],a=e["front_default"];return t||(o||a)};var K={name:"card-pokemon",props:{pokemon:Object},computed:{getName(){return H(this.pokemon.name)}}};const Y=(0,g.Z)(K,[["render",E]]);var U=Y;const G={class:"pagination"},R={class:"pagination__links"};function J(e,t,o,a,n,i){return(0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("button",{class:"pagination__button pagination__button_prev",onClick:t[0]||(t[0]=(...e)=>i.handleClickPrevButton&&i.handleClickPrevButton(...e))}),(0,s._)("div",R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.renderPagination(e.page),((o,a)=>((0,s.wg)(),(0,s.iD)("button",{class:(0,r.C_)(["pagination__link",{pagination__link_active:o===e.page,disabled:"..."===o}]),onClick:t[1]||(t[1]=(...e)=>i.handleClickButton&&i.handleClickButton(...e)),key:a},(0,r.zw)(o),3)))),128))]),(0,s._)("button",{class:"pagination__button pagination__button_next",onClick:t[2]||(t[2]=(...e)=>i.handleClickNextButton&&i.handleClickNextButton(...e))})])}var V={name:"main-pagination",methods:{...(0,_.OI)({setIsLoadingList:"loader/setIsLoadingList",setPage:"pagination/setPage"}),...(0,_.nv)({loadPokemons:"pokemons/loadPokemons"}),setQueryPath(e){const t=this.searchQuery?{page:e,search:this.searchQuery}:{page:e};this.$router.push({name:"home",query:t})},loadPage(e){this.setIsLoadingList(!0),this.setPage(+e),this.loadPokemons(e),this.setQueryPath(e)},handleClickButton(e){const t=e.target.textContent;"..."!==t&&this.loadPage(t)},handleClickNextButton(){this.page<this.getMaxPage&&this.loadPage(this.page+1)},handleClickPrevButton(){this.page>1&&this.loadPage(this.page-1)},renderPagination(e){const t=this.getMaxPage;let o=[];if(t<=5){for(let e=1;e<=t;e++)o.push(e);return o}return o=e<=3?[1,2,3,4,"...",t]:e>=t-2?[1,"...",t-3,t-2,t-1,t]:[1,"...",e-1,e,e+1,"...",t],o}},computed:{...(0,_.rn)({searchQuery:e=>e.search.searchQuery,page:e=>e.pagination.page}),...(0,_.Se)({getMaxPage:"pagination/getMaxPage"})}};const X=(0,g.Z)(V,[["render",J]]);var ee=X;const te={class:"overlay-loader"},oe=(0,s._)("div",{class:"loader"},[(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div"),(0,s._)("div")],-1),ae=[oe];function se(e,t,o,a,n,i){return(0,s.wg)(),(0,s.iD)("div",te,ae)}var ne={name:"my-preloader"};const ie=(0,g.Z)(ne,[["render",se]]);var re=ie,ce={components:{Card:U,Pagination:ee,Preloader:re},name:"main-page",computed:{...(0,_.rn)({pokemonsList:e=>e.pokemons.pokemonsList,isLoading:e=>e.loader.isLoadingList,isNotFound:e=>e.search.isNotFound})},methods:{...(0,_.OI)({setSearchQuery:"search/setSearchQuery",setPage:"pagination/setPage"}),...(0,_.nv)({loadPokemons:"pokemons/loadPokemons"}),loadPage(){const e=+this.$route.query.page||1;this.setSearchQuery(this.$route.query.search||""),this.setPage(e),this.loadPokemons(e)}},mounted(){this.loadPage()}};const me=(0,g.Z)(ce,[["render",Q]]);var pe=me;const le={key:0,class:"pokemon-page pokemon"},he={class:"pokemon__name"},de={class:"pokemon__info"},ue={class:"pokemon__description"},_e={class:"pokemon__description-row"},ke=(0,s._)("p",{class:"pokemon__description-title"},"Type:",-1),ge={class:"pokemon__description-text"},Pe={class:"pokemon__description-row"},fe=(0,s._)("p",{class:"pokemon__description-title"},"Weight:",-1),ve={class:"pokemon__description-text"},Le={class:"pokemon__description-row"},we=(0,s._)("p",{class:"pokemon__description-title"},"Height:",-1),ye={class:"pokemon__description-text"},be={class:"pokemon__description-row"},Se=(0,s._)("p",{class:"pokemon__description-title"},"Experience:",-1),Ne={class:"pokemon__description-text"},Ie={class:"pokemon__description-row pokemon__parametr-list"},Qe={class:"pokemon__parametr pokemon__parametr_hp"},xe={class:"pokemon__parametr pokemon__parametr_attack"},Ce={class:"pokemon__parametr pokemon__parametr_defense"},Fe={class:"pokemon__parametr pokemon__parametr_special-attack"},ze={class:"pokemon__parametr pokemon__parametr_special-defense"},De={class:"pokemon__parametr pokemon__parametr_speed"},Oe={class:"pokemon__abilities abilities"},je=(0,s._)("h2",{class:"pokemin__title abilities__title"},"Abilities",-1),$e={class:"abilities__list"};function Te(e,t,o,a,n,i){const c=(0,s.up)("preloader");return e.isLoadingPokemon?((0,s.wg)(),(0,s.j4)(c,{key:1})):((0,s.wg)(),(0,s.iD)("main",le,[(0,s._)("h1",he,(0,r.zw)(e.pokemon.name),1),(0,s._)("section",de,[(0,s._)("div",{class:"pokemon__image",style:(0,r.j5)({backgroundImage:`url(${e.pokemon.image})`})},null,4),(0,s._)("div",ue,[(0,s._)("div",_e,[ke,(0,s._)("p",ge,(0,r.zw)(e.pokemon.types),1)]),(0,s._)("div",Pe,[fe,(0,s._)("p",ve,(0,r.zw)(e.pokemon.weight)+" kg",1)]),(0,s._)("div",Le,[we,(0,s._)("p",ye,(0,r.zw)(e.pokemon.height)+" m",1)]),(0,s._)("div",be,[Se,(0,s._)("p",Ne,(0,r.zw)(e.pokemon["base_experience"]),1)]),(0,s._)("div",Ie,[(0,s._)("div",Qe,(0,r.zw)(e.pokemon.stats.hp),1),(0,s._)("div",xe,(0,r.zw)(e.pokemon.stats.attack),1),(0,s._)("div",Ce,(0,r.zw)(e.pokemon.stats.defense),1),(0,s._)("div",Fe,(0,r.zw)(e.pokemon.stats["special-attack"]),1),(0,s._)("div",ze,(0,r.zw)(e.pokemon.stats["special-defense"]),1),(0,s._)("div",De,(0,r.zw)(e.pokemon.stats.speed),1)])])]),(0,s._)("section",Oe,[je,(0,s._)("ul",$e,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pokemon.abilities,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{class:"abilities__item",key:t},(0,r.zw)(e),1)))),128))])])]))}var Be={components:{Preloader:re},methods:{...(0,_.OI)({setIsLoadingPokemon:"loader/setIsLoadingPokemon"}),...(0,_.nv)({loadPokemon:"pokemons/loadPokemon"}),loadPokemonData(){const e=this.$route.params.name;this.loadPokemon({name:e,type:"one"})}},computed:{...(0,_.rn)({isLoadingPokemon:e=>e.loader.isLoadingPokemon,pokemon:e=>e.pokemons.pokemon})},mounted(){this.setIsLoadingPokemon(!0),this.loadPokemonData()}};const Me=(0,g.Z)(Be,[["render",Te]]);var Ee=Me;const He=[{path:"/",name:"home",component:pe},{path:"/pokemon/:name",name:"pokemon",component:Ee}],Ze=(0,y.p7)({history:(0,y.PO)("/vue-pokemon-lib/"),routes:He});var qe=Ze,Ae={namespaced:!0,state:{isLoadingList:!0,isLoadingPokemon:!0},mutations:{setIsLoadingList(e,t){e.isLoadingList=t},setIsLoadingPokemon(e,t){e.isLoadingPokemon=t}}},We={namespaced:!0,state:{totalPokemons:0,limit:10,page:1},getters:{getMaxPage(e){return Math.ceil(e.totalPokemons/e.limit)}},mutations:{setTotalPokemons(e,t){e.totalPokemons=t},setPage(e,t){e.page=t}}},Ke=o(6265),Ye=o.n(Ke);class Ue{constructor(e){this.configApi=e}fetchPokemons(e=1,t=0){return Ye().get("pokemon",{...this.configApi,params:{limit:t,offset:t*(e-1)}})}fetchPokemon(e){return Ye().get(`pokemon/${e}`,this.configApi)}}var Ge={baseURL:"https://pokeapi.co/api/v2/"};const Re=new Ue(Ge);var Je={namespaced:!0,state:{limitSearchList:5,searchQuery:"",isShowSearchList:!1,isNotFound:!1,pokemonsNameList:[]},getters:{getPokemonNameFilterList(e){return e.pokemonsNameList.filter((t=>t.toLowerCase().startsWith(e.searchQuery.toLowerCase())))},getSeachList(e,t){return t.getPokemonNameFilterList.slice(0,e.limitSearchList)}},mutations:{setSearchQuery(e,t){e.searchQuery=t},setPokemonNameList(e,t){e.pokemonsNameList=t.map((e=>e.name))},setPokemonNameFilterList(e,t){e.pokemonNameFilterList=t},setIsShowSearchList(e,t){e.isShowSearchList=t},setIsNotFound(e,t){e.isNotFound=t}},actions:{async loadPokemonNameList({state:e,commit:t,rootState:o}){const a=!e.pokemonsNameList.length;try{if(a){const e=await Re.fetchPokemons(1,o.pagination.totalPokemons);t("setPokemonNameList",e.data.results)}}catch(s){console.log(s)}}}};const Ve=new Ue(Ge);var Xe={namespaced:!0,state:{pokemonsList:[],pokemon:{}},mutations:{setPokemonsList(e,t){e.pokemonsList.push({...t,types:Z(t.types),stats:A(t.stats),image:W(t.sprites)})},clearPokemonsList(e){e.pokemonsList=[]},setPokemon(e,t){e.pokemon={...t,name:H(t.name),types:Z(t.types),weight:t.weight/10,height:t.height/10,abilities:q(t.abilities),stats:A(t.stats),image:W(t.sprites)}}},actions:{async loadPokemons({commit:e,dispatch:t,rootState:o,rootGetters:a},s){const n=o.search.searchQuery,i=o.pagination.limit;e("clearPokemonsList");try{const r=await Ve.fetchPokemons(s,i);if(e("pagination/setTotalPokemons",r.data.count,{root:!0}),n){const n=await Ve.fetchPokemons(1,o.pagination.totalPokemons);e("search/setPokemonNameList",n.data.results,{root:!0});const r=a["search/getPokemonNameFilterList"];r.length?e("search/setIsNotFound",!0,{root:!0}):e("search/setIsNotFound",!1,{root:!0}),e("pagination/setTotalPokemons",r.length,{root:!0}),r.slice((s-1)*i,s*i).forEach((e=>{t("loadPokemon",{name:e,type:"multi"})}))}else r.data.results.map((e=>e.name)).forEach((e=>{t("loadPokemon",{name:e,type:"multi"})}))}catch(r){console.log(r)}},async loadPokemon({commit:e},{name:t,type:o}){try{const a=await Ve.fetchPokemon(t);switch(o){case"one":e("setPokemon",a.data),e("loader/setIsLoadingPokemon",!1,{root:!0});break;case"multi":e("setPokemonsList",a.data),e("loader/setIsLoadingList",!1,{root:!0});break}}catch(a){console.log(a)}}}},et=(0,_.MT)({modules:{loader:Ae,pagination:We,search:Je,pokemons:Xe}});(0,a.ri)(w).use(et).use(qe).mount("#app")}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,a,s,n){if(!a){var i=1/0;for(p=0;p<e.length;p++){a=e[p][0],s=e[p][1],n=e[p][2];for(var r=!0,c=0;c<a.length;c++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[c])}))?a.splice(c--,1):(r=!1,n<i&&(i=n));if(r){e.splice(p--,1);var m=s();void 0!==m&&(t=m)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[a,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,n,i=a[0],r=a[1],c=a[2],m=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(c)var p=c(o)}for(t&&t(a);m<i.length;m++)n=i[m],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(p)},a=self["webpackChunktest_pokemon"]=self["webpackChunktest_pokemon"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(759)}));a=o.O(a)})();
//# sourceMappingURL=app.52305b2d.js.map